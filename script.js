const questions = [
    {
        question: "What is the main purpose of the National Service Training Program (NSTP) Act of 2001?",
        answers: [
            "To provide military training to all students in the Philippines",
            "To enhance civic consciousness and defense preparedness in the youth",
            "To eliminate the need for military training in educational institutions",
            "To reduce the academic workload for students"
        ],
        correctAnswer: "To enhance civic consciousness and defense preparedness in the youth"
    },
    {
        question: "Which component of the NSTP focuses on military training?",
        answers: [
            "Literacy Training Service (LTS)",
            "Civic Welfare Training Service (CWTS)",
            "Reserve Officers’ Training Corps (ROTC)",
            "Environmental Protection Service (EPS)"
        ],
        correctAnswer: "Reserve Officers’ Training Corps (ROTC)"
    },
    {
        question: "What is the duration of each NSTP program component?",
        answers: [
            "One semester",
            "Two semesters",
            "Three semesters",
            "One year"
        ],
        correctAnswer: "Two semesters"
    },
    {
        question: "Which students are exempt from the NSTP Law?",
        answers: [
            "Foreign students",
            "All students in technical-vocational courses",
            "Students from private institutions",
            "Students already enrolled in ROTC"
        ],
        correctAnswer: "Foreign students"
    },
    {
        question: "What must students receive upon completing the NSTP program?",
        answers: [
            "A certificate of appreciation",
            "A Certificate of Completion with a serial number",
            "A diploma in national service",
            "An academic credit"
        ],
        correctAnswer: "A Certificate of Completion with a serial number"
    },
    {
        question: "Which institution must offer the ROTC component according to the NSTP Law?",
        answers: [
            "Private universities",
            "State universities and colleges",
            "Technical-vocational institutions",
            "All educational institutions"
        ],
        correctAnswer: "State universities and colleges"
    },
    {
        question: "What was one of the historical predecessors to the ROTC in the Philippines?",
        answers: [
            "The National Defense Act 1935",
            "The University of Sto. Tomas training course",
            "The Republic Act No. 7077",
            "Presidential Decree No. 1706"
        ],
        correctAnswer: "The University of Sto. Tomas training course"
    },
    {
        question: "Which NSTP component focuses on literacy and numeracy skills?",
        answers: [
            "Civic Welfare Training Service (CWTS)",
            "Reserve Officers’ Training Corps (ROTC)",
            "Literacy Training Service (LTS)",
            "Environmental Protection Service (EPS)"
        ],
        correctAnswer: "Literacy Training Service (LTS)"
    },
    {
        question: "What is the main goal of the Civic Welfare Training Service (CWTS)?",
        answers: [
            "To provide military training",
            "To contribute to community welfare and betterment",
            "To teach literacy and numeracy",
            "To offer environmental protection programs"
        ],
        correctAnswer: "To contribute to community welfare and betterment"
    },
    {
        question: "Which law requires students to complete one NSTP component for graduation?",
        answers: [
            "National Defense Act 1935",
            "Presidential Decree No. 1706",
            "Republic Act No. 7077",
            "R.A. 9163"
        ],
        correctAnswer: "R.A. 9163"
    },
    {
        question: "What is a key responsibility of the youth under the NSTP Law?",
        answers: [
            "To avoid participation in public affairs",
            "To develop their social, economic, intellectual, and moral well-being",
            "To focus solely on academic achievements",
            "To avoid gaining military training"
        ],
        correctAnswer: "To develop their social, economic, intellectual, and moral well-being"
    },
    {
        question: "What does the term 'abiotic factors' refer to in an ecosystem?",
        answers: [
            "All living things",
            "All nonliving components",
            "The processes of photosynthesis",
            "The waste produced by decomposers"
        ],
        correctAnswer: "All nonliving components"
    },
    {
        question: "Which component of the environment includes all water bodies such as lakes and oceans?",
        answers: [
            "Atmosphere",
            "Biosphere",
            "Hydrosphere",
            "Lithosphere"
        ],
        correctAnswer: "Hydrosphere"
    },
    {
        question: "Which layer of the atmosphere is closest to the Earth's surface?",
        answers: [
            "Stratosphere",
            "Mesosphere",
            "Troposphere",
            "Exosphere"
        ],
        correctAnswer: "Troposphere"
    },
    {
        question: "What does the principle 'Everything is connected to everything else' emphasize?",
        answers: [
            "The isolation of ecosystems",
            "The independence of species",
            "The interconnectedness of biotic and abiotic components",
            "The independence of natural processes"
        ],
        correctAnswer: "The interconnectedness of biotic and abiotic components"
    },
    {
        question: "What is the main goal of the Toxic Substances, Hazardous and Nuclear Waste Control Act of 1990?",
        answers: [
            "To clean air pollution",
            "To regulate hazardous substances and wastes",
            "To promote recycling",
            "To manage water resources"
        ],
        correctAnswer: "To regulate hazardous substances and wastes"
    },
    {
        question: "What principle states that 'Everything must go somewhere else'?",
        answers: [
            "Nature knows best",
            "Everything changes",
            "Everything is connected to everything else",
            "Everything must go somewhere else"
        ],
        correctAnswer: "Everything must go somewhere else"
    },
    {
        question: "Which law aims to maintain clean air that meets National Air Quality guideline values?",
        answers: [
            "Ecological Solid Waste Management Act of 2000",
            "Philippine Clean Water Act of 2004",
            "Philippine Clean Air Act of 1999",
            "Environmental Awareness and Education Act of 2008"
        ],
        correctAnswer: "Philippine Clean Air Act of 1999"
    },
    {
        question: "What is the main focus of the Ecological Solid Waste Management Act of 2000?",
        answers: [
            "Water pollution prevention",
            "Air quality improvement",
            "Solid waste management",
            "Education on environmental issues"
        ],
        correctAnswer: "Solid waste management"
    },
    {
        question: "Which component of the environment consists of all organisms and their interactions with water and air?",
        answers: [
            "Hydrosphere",
            "Lithosphere",
            "Biosphere",
            "Atmosphere"
        ],
        correctAnswer: "Biosphere"
    },
    {
        question: "According to the Environmental Awareness and Education Act of 2008, who is responsible for integrating environmental education in school curricula?",
        answers: [
            "Department of Health",
            "Department of Education and other relevant agencies",
            "Department of Tourism",
            "Department of Social Welfare and Development"
        ],
        correctAnswer: "Department of Education and other relevant agencies"
    },
    {
        question: "What is the primary purpose of the Environmental Impact Statement (EIS) Statement of 1978?",
        answers: [
            "To regulate air quality",
            "To facilitate a balance between socio-economic development and environmental protection",
            "To manage solid waste",
            "To control hazardous substances"
        ],
        correctAnswer: "To facilitate a balance between socio-economic development and environmental protection"
    },
    {
        question: "Which law aims to protect water bodies from pollution originating from land-based sources?",
        answers: [
            "Philippine Clean Air Act of 1999",
            "Ecological Solid Waste Management Act of 2000",
            "Philippine Clean Water Act of 2004",
            "Toxic Substances, Hazardous and Nuclear Waste Control Act of 1990"
        ],
        correctAnswer: "Philippine Clean Water Act of 2004"
    },
    {
        question: "What is the focus of the Philippine Clean Water Act of 2004?",
        answers: [
            "Managing air pollution",
            "Regulating hazardous substances",
            "Protecting water bodies from pollution",
            "Promoting solid waste management"
        ],
        correctAnswer: "Protecting water bodies from pollution"
    },
    {
        question: "Which law requires the integration of environmental education into school curricula?",
        answers: [
            "Toxic Substances, Hazardous and Nuclear Waste Control Act of 1990",
            "Ecological Solid Waste Management Act of 2000",
            "Environmental Awareness and Education Act of 2008",
            "Philippine Clean Air Act of 1999"
        ],
        correctAnswer: "Environmental Awareness and Education Act of 2008"
    },
    {
        question: "What does the Ecological Solid Waste Management Act of 2000 address?",
        answers: [
            "Air pollution control",
            "Waste segregation and disposal",
            "Water quality improvement",
            "Toxic substances regulation"
        ],
        correctAnswer: "Waste segregation and disposal"
    },
    {
        question: "Which act regulates the importation and disposal of toxic and hazardous wastes in the Philippines?",
        answers: [
            "Philippine Clean Air Act of 1999",
            "Environmental Impact Statement (EIS) Statement of 1978",
            "Toxic Substances, Hazardous and Nuclear Waste Control Act of 1990",
            "Philippine Clean Water Act of 2004"
        ],
        correctAnswer: "Toxic Substances, Hazardous and Nuclear Waste Control Act of 1990"
    },
    {
        question: "Which law aims to minimize the impact of economic activities on the environment through an integrated approach?",
        answers: [
            "Environmental Awareness and Education Act of 2008",
            "Ecological Solid Waste Management Act of 2000",
            "Philippine Clean Air Act of 1999",
            "Environmental Impact Statement (EIS) Statement of 1978"
        ],
        correctAnswer: "Environmental Impact Statement (EIS) Statement of 1978"
    },
    {
        question: "What is the main goal of the Toxic Substances, Hazardous and Nuclear Waste Control Act of 1990?",
        answers: [
            "To regulate hazardous substances and their disposal",
            "To clean water bodies",
            "To manage solid waste",
            "To improve air quality"
        ],
        correctAnswer: "To regulate hazardous substances and their disposal"
    },
    {
        question: "Which law provides a comprehensive strategy for water pollution prevention?",
        answers: [
            "Ecological Solid Waste Management Act of 2000",
            "Philippine Clean Water Act of 2004",
            "Environmental Impact Statement (EIS) Statement of 1978",
            "Philippine Clean Air Act of 1999"
        ],
        correctAnswer: "Philippine Clean Water Act of 2004"
    },
    {
        question: "Which department is responsible for integrating environmental education into higher education curricula according to the Environmental Awareness and Education Act of 2008?",
        answers: [
            "Department of Tourism",
            "Department of Social Welfare and Development",
            "Commission on Higher Education (CHED)",
            "Department of Agriculture"
        ],
        correctAnswer: "Commission on Higher Education (CHED)"
    },
    {
        question: "What is environmental degradation?",
        answers: [
            "The creation of new resources",
            "The improvement of ecosystem health",
            "The deterioration of the environment through resource depletion and pollution",
            "The increase in biodiversity"
        ],
        correctAnswer: "The deterioration of the environment through resource depletion and pollution"
    },
    {
        question: "Which of the following is NOT a type of pollution?",
        answers: [
            "Air Pollution",
            "Land Pollution",
            "Water Pollution",
            "Resource Pollution"
        ],
        correctAnswer: "Resource Pollution"
    },
    {
        question: "What is a common source of air pollution?",
        answers: [
            "Plastic waste in landfills",
            "Burning of fossil fuels",
            "Sewage discharge into rivers",
            "Noise from machinery"
        ],
        correctAnswer: "Burning of fossil fuels"
    },
    {
        question: "What is one effect of light pollution on wildlife?",
        answers: [
            "Improved navigation for sea turtles",
            "Disruption of bird migration patterns",
            "Enhanced flowering patterns in plants",
            "Reduction in air pollution"
        ],
        correctAnswer: "Disruption of bird migration patterns"
    },
    {
        question: "What does land pollution primarily result from?",
        answers: [
            "Household garbage and industrial waste",
            "Chemical runoff into water bodies",
            "Airborne pollutants from vehicles",
            "Noise from urban areas"
        ],
        correctAnswer: "Household garbage and industrial waste"
    },
    {
        question: "Which country is recognized for its highest marine biodiversity?",
        answers: [
            "Australia",
            "Philippines",
            "Brazil",
            "South Africa"
        ],
        correctAnswer: "Philippines"
    },
    {
        question: "What is one consequence of overpopulation on the environment?",
        answers: [
            "Improved resource management",
            "Increased garbage production and demand for resources",
            "Decreased pollution levels",
            "Increased agricultural land availability"
        ],
        correctAnswer: "Increased garbage production and demand for resources"
    },
    {
        question: "Which region is currently experiencing severe impacts from climate change, including increased temperatures and droughts?",
        answers: [
            "Southeast Asia",
            "Antarctica",
            "Europe",
            "United States of America"
        ],
        correctAnswer: "Africa"
    },
    {
        question: "What is a major environmental concern in Southeast Asia?",
        answers: [
            "Increased glacial melting",
            "Decline in marine biodiversity",
            "Overpopulation leading to resource depletion",
            "Severe water scarcity and pollution"
        ],
        correctAnswer: "Severe water scarcity and pollution"
    },
    {
        question: "What environmental issue is contributing to the destruction of coral reefs in the Philippines?",
        answers: [
            "Deforestation",
            "Overfishing and increased water temperature",
            "Noise pollution",
            "Light pollution"
        ],
        correctAnswer: "Overfishing and increased water temperature"
    },
    {
        question: "Which continent is expected to face a significant increase in extreme weather events due to climate change?",
        answers: [
            "Africa",
            "Antarctica",
            "Australia",
            "Europe"
        ],
        correctAnswer: "Africa"
    },
    {
        question: "True or False: Environmental degradation only refers to the pollution of air and water.",
        answers: ["True", "False"],
        correctAnswer: "False"
    },
    {
        question: "True or False: Light pollution can negatively affect plant flowering and developmental patterns.",
        answers: ["True", "False"],
        correctAnswer: "True"
    },
    {
        question: "True or False: The Philippines has the highest coral reef biodiversity in the world.",
        answers: ["True", "False"],
        correctAnswer: "True"
    },
    {
        question: "True or False: Overpopulation leads to reduced garbage production and decreased demand for resources.",
        answers: ["True", "False"],
        correctAnswer: "False"
    },
    {
        question: "True or False: Noise pollution only affects human health and not wildlife.",
        answers: ["True", "False"],
        correctAnswer: "False"
    },
    {
        question: "True or False: The Philippines has a low rate of forest cover compared to its historical extent.",
        answers: ["True", "False"],
        correctAnswer: "True"
    },
    {
        question: "The correct statement is: A: Air pollution is primarily caused by vehicle emissions, B: Land pollution is caused by chemical spills into water bodies.",
        answers: ["A", "B", "Both"],
        correctAnswer: "A"
    },
    {
        question: "The correct statement is: A: Overexploitation refers to sustainable harvesting practices, B: Overexploitation refers to harvesting resources to the point of depletion.",
        answers: ["A", "B", "Both"],
        correctAnswer: "B"
    },
    {
        question: "The correct statement is: A: The Philippines has more species discoveries per year compared to the global average, B: The Philippines has fewer species discoveries per year compared to the global average.",
        answers: ["A", "B", "Both"],
        correctAnswer: "A"
    },
    {
        question: "The correct statement is: A: Noise pollution affects only urban areas, B: Noise pollution affects both urban and underwater environments.",
        answers: ["A", "B", "Both"],
        correctAnswer: "B"
    },
    {
        question: "The correct statement is: A: The Mediterranean region is experiencing decreased heat extremes, B: The Mediterranean region is experiencing increased heat extremes due to climate change.",
        answers: ["A", "B", "Both"],
        correctAnswer: "B"
    },
    {
        question: "The correct statement is: A: Water pollution can be caused by both chemicals and biological contaminants, B: Water pollution is only caused by biological contaminants.",
        answers: ["A", "B", "Both"],
        correctAnswer: "A"
    },
    {
        question: "The correct statement is: A: Overpopulation has no effect on resource demand, B: Overpopulation increases resource demand and environmental strain.",
        answers: ["A", "B", "Both"],
        correctAnswer: "B"
    }
];

// Shuffle questions and answers
function shuffle(array) {
for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
}
}

shuffle(questions);

// Initialize quiz
let currentQuestionIndex = 0;
let score = 0;

const quizContainer = document.getElementById('quiz');
const resultContainer = document.getElementById('result');
const submitButton = document.getElementById('submit');
const retryButton = document.getElementById('retry');

function loadQuiz() {
quizContainer.innerHTML = ''; // Clear previous quiz
questions.forEach((q, index) => {
    const questionDiv = document.createElement('div');
    questionDiv.classList.add('question');
    questionDiv.setAttribute('data-index', index);

    // Add question text
    const questionText = document.createElement('h2');
    questionText.textContent = q.question;
    questionDiv.appendChild(questionText);

    // Add question image if available
    if (q.image) {
        const questionImage = document.createElement('img');
        questionImage.src = q.image;
        questionImage.alt = 'question image';
        questionImage.classList.add('question-image');
        questionDiv.appendChild(questionImage);
    }

    // Add answers in random order
    shuffle(q.answers);
    q.answers.forEach((answer) => {
        const label = document.createElement('label');
        label.classList.add('answer');

        const input = document.createElement('input');
        input.type = 'radio';
        input.name = `question-${index}`;
        input.value = answer;

        label.appendChild(input);
        label.appendChild(document.createTextNode(answer));
        questionDiv.appendChild(label);
    });

    quizContainer.appendChild(questionDiv);
});
}

function checkAnswers() {
const questionsDivs = document.querySelectorAll('.question');
score = 0;

questionsDivs.forEach((qDiv, index) => {
    const selectedAnswer = qDiv.querySelector('input:checked');
    const correctAnswer = questions[index].correctAnswer;

    if (selectedAnswer) {
        const answerLabels = qDiv.querySelectorAll('.answer');
        answerLabels.forEach((label) => {
            const input = label.querySelector('input');
            if (input.value === correctAnswer) {
                label.classList.add('correct');
            } else if (input.checked) {
                label.classList.add('incorrect');
            }
        });

        if (selectedAnswer.value === correctAnswer) {
            score++;
        }
    }
});

resultContainer.innerHTML = `Your score: ${score} / ${questions.length}`;
smoothScrollToTop();
submitButton.disabled = true;
retryButton.disabled = false;
}

function retryQuiz() {
shuffle(questions);
loadQuiz();
resultContainer.innerHTML = '';
submitButton.disabled = false;
retryButton.disabled = true;
}

// Smooth scroll to top
function smoothScrollToTop() {
window.scrollTo({
    top: 0,
    behavior: 'smooth'
});
}

submitButton.addEventListener('click', checkAnswers);
retryButton.addEventListener('click', retryQuiz);

// Initialize quiz on page load
retryQuiz();

// Smooth scroll back to top
function smoothScrollToTop() {
window.scrollTo({
    top: 0,
    behavior: 'smooth'
});
}

// Shuffle questions and answers
function shuffle(array) {
for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
}
}

// Load quiz questions
function loadQuiz() {
quizContainer.innerHTML = ''; // Clear previous quiz
questions.forEach((q, index) => {
    const questionDiv = document.createElement('div');
    questionDiv.classList.add('question');
    questionDiv.setAttribute('data-index', index);

    // Add question text
    const questionText = document.createElement('h2');
    questionText.textContent = q.question;
    questionDiv.appendChild(questionText);

    // Add question image if available
    if (q.image) {
        const questionImage = document.createElement('img');
        questionImage.src = q.image;
        questionImage.alt = 'question image';
        questionImage.classList.add('question-image');
        questionDiv.appendChild(questionImage);
    }

    // Add answers in random order
    shuffle(q.answers);
    q.answers.forEach((answer) => {
        const label = document.createElement('label');
        label.classList.add('answer');

        const input = document.createElement('input');
        input.type = 'radio';
        input.name = `question-${index}`;
        input.value = answer;

        label.appendChild(input);
        label.appendChild(document.createTextNode(answer));
        questionDiv.appendChild(label);
    });

    quizContainer.appendChild(questionDiv);
});
}

// Check and highlight answers
function checkAnswers() {
const questionsDivs = document.querySelectorAll('.question');
score = 0;

questionsDivs.forEach((qDiv, index) => {
    const selectedAnswer = qDiv.querySelector('input:checked');
    const correctAnswer = questions[index].correctAnswer;

    if (selectedAnswer) {
        const answerLabels = qDiv.querySelectorAll('.answer');
        answerLabels.forEach((label) => {
            const input = label.querySelector('input');
            if (input.value === correctAnswer) {
                label.classList.add('correct');
            } else if (input.checked) {
                label.classList.add('incorrect');
            }
        });

        if (selectedAnswer.value === correctAnswer) {
            score++;
        }
    }
});

resultContainer.innerHTML = `Your score: ${score} / ${questions.length}`;
smoothScrollToTop();
submitButton.disabled = true;
retryButton.disabled = false;
}

function retryQuiz() {
shuffle(questions);
loadQuiz();
resultContainer.innerHTML = '';
submitButton.disabled = false;
retryButton.disabled = true;
}

// Event listeners for buttons
submitButton.addEventListener('click', checkAnswers);
retryButton.addEventListener('click', retryQuiz);

// Initialize quiz on page load
retryQuiz();

